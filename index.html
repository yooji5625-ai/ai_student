<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìƒˆí•´ ëª©í‘œ ë‹¬ì„± í”Œëœ (New Year Goal Plan)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ì»¤ìŠ¤í…€ í°íŠ¸ ë° ê¸°ë³¸ ì„¤ì • */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0e14; /* Dark/Space background */
        }
        
        /* --- ìˆ˜ì§ íƒ€ì„ë¼ì¸ ìŠ¤íƒ€ì¼ (NEW) --- */
        .vertical-timeline {
            position: relative;
            padding-left: 20px; /* íƒ€ì„ë¼ì¸ ë¼ì¸ ê³µê°„ */
        }
        /* ì¤‘ì•™ ìˆ˜ì§ì„  */
        .vertical-timeline::before {
            content: '';
            position: absolute;
            top: 0;
            left: 8px;
            width: 4px;
            height: 100%;
            background: #374151; /* Gray line */
            border-radius: 2px;
            z-index: 1;
        }

        /* ê°œë³„ ë‹¨ê³„ (Phase) ë°•ìŠ¤ */
        .phase-item {
            position: relative;
            margin-bottom: 2.5rem; /* ê°„ê²© ì¦ê°€ */
            padding-left: 30px; /* ë°•ìŠ¤ë¥¼ ë¼ì¸ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™ */
            z-index: 10;
        }
        .phase-box {
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            background-color: #1f2937; /* ë°°ê²½ìƒ‰ */
            border-left: 5px solid; /* ì™¼ìª½ ìƒ‰ìƒ ê²½ê³„ */
        }

        /* ë‹¨ê³„ ì•„ì´ì½˜ (ì›í˜•) */
        .phase-icon {
            position: absolute;
            left: 0px; /* ìˆ˜ì§ì„  ì¤‘ì•™ì— ìœ„ì¹˜ */
            top: 0px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #007bff; /* íŒŒë€ìƒ‰ */
            border: 4px solid #0d0e14; /* ë°°ê²½ìƒ‰ê³¼ ë™ì¼í•œ í…Œë‘ë¦¬ë¡œ ë¼ì¸ ìœ„ì— ë–  ìˆê²Œ */
            z-index: 20;
        }

        /* ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
        .roadmap-list {
            list-style-type: disc;
            margin-left: 1.5rem;
            color: #ccc;
            font-size: 0.875rem;
        }
        /* ë‹¨ê³„ ë²ˆí˜¸ ìŠ¤íƒ€ì¼ */
        .phase-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #007bff;
            margin-bottom: 0.5rem;
            display: block;
        }

        /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ (ë‹¤í¬ ëª¨ë“œ ìµœì í™”) */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #007bff;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background-color: #1f2937;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="w-full max-w-4xl rounded-xl shadow-2xl p-6 md:p-10 border-t-4 border-blue-500 bg-gray-800">

        <div id="formView" class="transition-opacity duration-500">
            <h1 class="text-3xl md:text-4xl font-extrabold text-white uppercase tracking-wider text-center pb-3 mb-6 border-b-2 border-yellow-400">
                ìƒˆí•´ ëª©í‘œ ë‹¬ì„± í”Œëœ
            </h1>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div class="flex flex-col">
                    <label for="nickname" class="text-yellow-400 font-bold mb-1 uppercase text-sm">ë‹‰ë„¤ì„</label>
                    <input type="text" id="nickname" placeholder="ì„ ìˆ˜ëª… (ë‹‰ë„¤ì„)" required
                           class="p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 transition duration-300">
                </div>

                <div class="flex flex-col">
                    <label for="targetTime" class="text-yellow-400 font-bold mb-1 uppercase text-sm">ë‹¬ì„± í¬ë§ ì‹œì  (ì˜ˆ: 2026ë…„)</label>
                    <input type="text" id="targetTime" placeholder="ë…„ë„ë§Œ ì…ë ¥ (ì˜ˆ: 2026)" required
                           class="p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 transition duration-300">
                </div>
                
                <div class="flex flex-col md:col-span-2">
                    <label for="mainGoal" class="text-yellow-400 font-bold mb-1 uppercase text-sm">í˜„ì¬ ê°€ì¥ ì¤‘ìš”í•œ ëª©í‘œ</label>
                    <textarea id="mainGoal" placeholder="êµ¬ì²´ì ì¸ ëª©í‘œë¥¼ ì„¤ëª…í•´ ì£¼ì„¸ìš”." required
                                 class="p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 transition duration-300 resize-y min-h-[100px]"></textarea>
                </div>

                <div class="flex flex-col">
                    <label for="myStrength" class="text-yellow-400 font-bold mb-1 uppercase text-sm">í˜„ì¬ ë‚˜ì˜ ê°•ì </label>
                    <textarea id="myStrength" placeholder="ëª©í‘œ ë‹¬ì„±ì— ë„ì›€ì´ ë  ê°•ì /ìì›"
                                 class="p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 transition duration-300 resize-y min-h-[100px]"></textarea>
                </div>

                <div class="flex flex-col">
                    <label for="obstacle" class="text-yellow-400 font-bold mb-1 uppercase text-sm">ì¥ì• ë¬¼ (ì„ íƒ ì‚¬í•­)</label>
                    <textarea id="obstacle" placeholder="ëª©í‘œ ë‹¬ì„±ì„ ê°€ë¡œë§‰ëŠ” ìš”ì†Œ"
                                 class="p-3 bg-gray-700 text-white rounded-lg border border-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 transition duration-300 resize-y min-h-[100px]"></textarea>
                </div>
            </div>
            
            <button onclick="register()"
                    class="w-full py-4 bg-blue-600 hover:bg-blue-700 text-white font-extrabold text-lg uppercase rounded-lg shadow-xl transition duration-300 transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50">
                ìƒˆí•´ í”Œëœ (Go!)
            </button>
        </div>

        <div id="resultView" class="hidden transition-opacity duration-500">
            <h1 class="text-3xl md:text-4xl font-extrabold text-white uppercase tracking-wider text-center pb-3 mb-6 border-b-2 border-yellow-400">
                âœ… ìƒˆí•´ ëª©í‘œ ë‹¬ì„± ê²°ê³¼
            </h1>
            
            <div class="bg-gray-700 border-2 border-yellow-400 rounded-lg p-6">
                <h2 class="text-2xl text-blue-400 font-bold uppercase mb-4 border-b border-gray-600 pb-2">
                    ì„ ìˆ˜: <span id="resultNickname" class="text-yellow-400"></span>
                </h2>
                <p class="text-gray-400 mb-6">ëª©í‘œ ë‹¬ì„± ì‹œì : <span id="resultTargetTime" class="text-white"></span></p>

                <div class="mb-4">
                    <label class="text-white font-medium block mb-2 text-lg">âœ¨ AI ì°½ì‘ ë¯¸ë˜ ì‹œë‚˜ë¦¬ì˜¤ (3ì¤„ ìš”ì•½)</label>
                    <div id="scenarioResult"
                         class="bg-gray-900 p-4 rounded-lg text-gray-300 text-base border-l-4 border-yellow-400 min-h-[100px] custom-scrollbar overflow-y-auto max-h-60 animate-pulse">
                        ë°ì´í„° ë¡œë”© ì¤‘...
                    </div>
                </div>

                <div>
                    <label class="text-white font-medium block mb-2 text-lg">ğŸ—ºï¸ ìƒˆí•´ ëª©í‘œ ë‹¬ì„± 1ë…„ í”Œëœ (ìˆ˜ì§ íƒ€ì„ë¼ì¸)</label>
                    <p class="text-sm text-yellow-400 mb-4 font-bold">[ì•ˆë‚´] ì•„ë˜ëŠ” ëª©í‘œ ì—°ë„ 1ë…„(1ì›”~12ì›”) ë™ì•ˆì˜ ì„¸ë¶€ ê³„íšì…ë‹ˆë‹¤.</p>
                    <div id="roadmapResult"
                         class="bg-gray-900 p-4 rounded-lg text-gray-300 text-base min-h-[100px] custom-scrollbar overflow-y-auto max-h-96 animate-pulse">
                        ë°ì´í„° ë¡œë”© ì¤‘...
                    </div>
                </div>
            </div>

            <div class="flex flex-col sm:flex-row gap-4 mt-8">
                <button id="resetButton" onclick="resetForm()"
                                class="flex-1 py-3 bg-gray-600 hover:bg-gray-700 text-white font-bold rounded-lg transition duration-300">
                    ìƒˆë¡œìš´ ì„¤ê³„ ì‹œì‘ (ì´ˆê¸°í™”)
                </button>
                <button onclick="showModal('saveResult')"
                                class="flex-1 py-3 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition duration-300">
                    ê²°ê³¼ ì €ì¥ (FireStore ì—°ë™ ì˜ˆì •)
                </button>
            </div>
        </div>
    </div>

    <div id="customModal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center p-4 z-50">
        <div class="bg-gray-800 rounded-xl p-6 w-full max-w-sm transform transition-all shadow-2xl border-t-4 border-blue-500">
            <h3 id="modalTitle" class="text-xl font-bold text-yellow-400 mb-4 border-b border-gray-600 pb-2">ì•Œë¦¼</h3>
            <p id="modalMessage" class="text-gray-300 mb-6"></p>
            <div class="flex justify-end">
                <button onclick="hideModal()"
                                class="px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition duration-300">
                    í™•ì¸
                </button>
            </div>
        </div>
    </div>

    <script>
        // 1. API ì„œë²„ ì£¼ì†Œ: ì„ì‹œë¡œ ë¹„ì›Œë‘ì–´ ê°€ìƒ ë°ì´í„° ë¡œì§ì´ ì‹¤í–‰ë˜ë„ë¡ í•©ë‹ˆë‹¤.
        const SERVER_URL = "";

        // --- View Elements ---
        const formView = document.getElementById('formView');
        const resultView = document.getElementById('resultView');
        const scenarioResult = document.getElementById('scenarioResult');
        const roadmapResult = document.getElementById('roadmapResult');
        const resultNickname = document.getElementById('resultNickname');
        const resultTargetTime = document.getElementById('resultTargetTime');

        // --- Modal Functions ---
        const modal = document.getElementById('customModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');

        function showModal(type, message = '') {
            // ëª¨ë‹¬ ë¡œì§ (ì´ì „ ì½”ë“œì™€ ë™ì¼)
            if (type === 'validation') {
                modalTitle.innerText = "ğŸš¨ í•„ìˆ˜ ì •ë³´ ëˆ„ë½";
                modalMessage.innerText = "ë‹‰ë„¤ì„, ëª©í‘œ, í¬ë§ ì‹œì ì€ ë¯¸ë˜ ì„¤ê³„ë¥¼ ìœ„í•œ í•„ìˆ˜ ì…ë ¥ ì‚¬í•­ì…ë‹ˆë‹¤.";
            } else if (type === 'error') {
                modalTitle.innerText = "âŒ í†µì‹  ì˜¤ë¥˜";
                modalMessage.innerText = message || "API í†µì‹ ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì„œë²„ URL ë° ìƒíƒœë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.";
            } else if (type === 'saveResult') {
                modalTitle.innerText = "ğŸ’¾ ì €ì¥ ê¸°ëŠ¥ ì•ˆë‚´";
                modalMessage.innerText = "ì´ ê¸°ëŠ¥ì€ ë‹¤ìŒ ì£¼ì°¨ì— Firestore ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ì„ í†µí•´ êµ¬í˜„ë  ì˜ˆì •ì…ë‹ˆë‹¤.";
            } else {
                modalTitle.innerText = "ì•Œë¦¼";
                modalMessage.innerText = type;
            }
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function hideModal() {
            // ëª¨ë‹¬ ìˆ¨ê¹€ ë¡œì§ (ì´ì „ ì½”ë“œì™€ ë™ì¼)
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }
        
        /**
         * ì…ë ¥ í¼ì„ ìˆ¨ê¸°ê³  ê²°ê³¼ ë·°ë¥¼ í‘œì‹œí•˜ë©° ë°ì´í„°ë¥¼ ì±„ì›ë‹ˆë‹¤.
         */
        function displayResultView(data, resultData) {
            // ëª©í‘œ ì—°ë„ ì¶”ì¶œ ë° ê²°ê³¼ í—¤ë” ì—…ë°ì´íŠ¸
            const targetYearMatch = data.targetTime.match(/(\d{4})/);
            const targetYear = targetYearMatch ? targetYearMatch[1] : new Date().getFullYear() + 1;

            resultNickname.innerText = data.nickname;
            // 1ë…„ í”Œëœ í˜•ì‹ì— ë§ê²Œ ì¶œë ¥
            resultTargetTime.innerText = `${targetYear}ë…„ 1ì›” 1ì¼ ~ ${targetYear}ë…„ 12ì›” 31ì¼ (1ë…„ í”Œëœ)`;

            scenarioResult.innerHTML = resultData.scenario || "AI ì‹œë‚˜ë¦¬ì˜¤ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.";
            roadmapResult.innerHTML = resultData.roadmap || "AI ë¡œë“œë§µ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.";

            scenarioResult.classList.remove('animate-pulse');
            roadmapResult.classList.remove('animate-pulse');

            formView.classList.add('hidden');
            resultView.classList.remove('hidden');
        }

        /**
         * ë‹¨ê³„ë³„ (Phase) ë¡œë“œë§µ ìƒì„± í•¨ìˆ˜ (ìˆ˜ì§ íƒ€ì„ë¼ì¸ êµ¬í˜„)
         */
        function generatePhasedRoadmap(year, data) {
            // 
            let planHtml = `<div class="vertical-timeline">`;

            const mainGoal = data.mainGoal;
            const strength = data.myStrength || 'ë¯¸ì…ë ¥ëœ ê°•ì ';
            const obstacle = data.obstacle || 'ì—†ìŒ';
            const currentYear = new Date().getFullYear();

            // ëª©í‘œ ì—°ë„ 1ë…„(1ì›”~12ì›”)ì„ 4ê°œì›”ì”© 3ë‹¨ê³„ë¡œ ë‚˜ëˆ•ë‹ˆë‹¤.
            const phases = [
                {
                    title: "1ë‹¨ê³„",
                    subtitle: "ê¸°ì´ˆ ì„¤ê³„ ë° ìŠµê´€ êµ¬ì¶• (í•µì‹¬ ì—­ëŸ‰ ì§‘ì¤‘)",
                    period: `${year}ë…„ 1ì›” ~ 4ì›”`, 
                    color: "border-green-500",
                    icon: "ğŸš€",
                    activities: [
                        `ëª©í‘œ (${mainGoal}) ë‹¬ì„±ì„ ìœ„í•œ ì´ˆê¸° 100ì¼ ê³„íš ìˆ˜ë¦½ ë° ê²€ì¦.`,
                        `í•µì‹¬ ê°•ì  '${strength}'ì„ í™œìš©í•  ìˆ˜ ìˆëŠ” í™˜ê²½ ì…‹ì—… ì™„ë£Œ.`,
                        `ì¥ì• ë¬¼ '${obstacle}'ì„ ìµœì†Œí™”í•˜ê¸° ìœ„í•œ ì£¼ê°„ ë£¨í‹´ ë„ì….`
                    ]
                },
                {
                    title: "2ë‹¨ê³„",
                    subtitle: "ì¤‘ê°„ í”„ë¡œì íŠ¸ ë° ì‹¤ë ¥ ì¦ì§„ (ì•½ì  ë³´ì™„ ì§‘ì¤‘)",
                    period: `${year}ë…„ 5ì›” ~ 8ì›”`, 
                    color: "border-yellow-500",
                    icon: "ğŸš§",
                    activities: [
                        `ì¤‘ê°„ ëª©í‘œ (50% ì§€ì ) ë‹¬ì„± í‰ê°€ ë° í”¼ë“œë°± ë°˜ì˜.`,
                        `ì‹¤ì œ í™˜ê²½ ê¸°ë°˜ì˜ ì¤‘ê·œëª¨ í”„ë¡œì íŠ¸ 1íšŒ ì´ìƒ ì§„í–‰.`,
                        `ì·¨ì•½ì  ê·¹ë³µì„ ìœ„í•œ ì›” 2íšŒ ì „ë¬¸ê°€/ë©˜í† ë§ ì„¸ì…˜ ì°¸ì„.`
                    ]
                },
                {
                    title: "3ë‹¨ê³„",
                    subtitle: "ìµœì¢… ê²€í†  ë° ì„±ê³¼ ì°½ì¶œ (ìµœì¢… ê²°ê³¼ë¬¼ ì§‘ì¤‘)",
                    period: `${year}ë…„ 9ì›” ~ 12ì›”`, 
                    color: "border-red-500",
                    icon: "ğŸ†",
                    activities: [
                        `ìµœì¢… ëª©í‘œ ê²°ê³¼ë¬¼ ì™„ì„±ë„ë¥¼ ë†’ì´ê¸° ìœ„í•œ ìµœì¢… ìˆ˜ì • ì‘ì—… ì§„í–‰.`,
                        `1ë…„ê°„ì˜ ì„±ê³¼ë¥¼ ì •ë¦¬í•œ ìµœì¢… í¬íŠ¸í´ë¦¬ì˜¤/ë³´ê³ ì„œ ì œì‘.`,
                        `ë‹¤ìŒ ì—°ë„ ëª©í‘œë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•œ ì‹¬ì¸µ íšŒê³  ì§„í–‰ ë° ${year}ë…„ ëª©í‘œ ë‹¬ì„± ì™„ë£Œ.`
                    ]
                }
            ];

            phases.forEach((phase, index) => {
                const activityList = phase.activities.map(activity => `<li class="ml-1">${activity}</li>`).join('');
                
                planHtml += `
                    <div class="phase-item">
                        <div class="phase-icon" style="background-color: ${phase.color.replace('border-', '#').replace('500', '600')};"></div>
                        <div class="phase-box" style="border-left-color: ${phase.color.replace('border-', '#').replace('500', '600').replace('400', '500')};">
                            <span class="phase-number">${phase.icon} ${phase.title}</span>
                            <div class="text-lg font-bold text-yellow-400 mb-1">${phase.subtitle}</div>
                            <div class="text-xs text-gray-400 mb-4">${phase.period} (${currentYear}ë…„ ëŒ€ë¹„ ${year}ë…„ì˜ ê³„íšì…ë‹ˆë‹¤)</div>
                            <ul class="roadmap-list text-gray-300 space-y-2">
                                ${activityList}
                            </ul>
                        </div>
                    </div>
                `;
            });

            planHtml += `</div>`;
            return planHtml;
        }

        /**
         * 'ìƒˆí•´ í”Œëœëœ' ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
         */
        function register() {
            // 1. ì…ë ¥ í•„ë“œì˜ ë°ì´í„° ìˆ˜ì§‘
            const data = {
                nickname: document.getElementById('nickname').value.trim(),
                mainGoal: document.getElementById('mainGoal').value.trim(),
                targetTime: document.getElementById('targetTime').value.trim(),
                myStrength: document.getElementById('myStrength').value.trim(),
                obstacle: document.getElementById('obstacle').value.trim()
            };

            // í•„ìˆ˜ ì…ë ¥ í•„ë“œ ê²€ì¦ 
            if (!data.nickname || !data.mainGoal || !data.targetTime) {
                showModal('validation');
                return;
            }

            // ëª©í‘œ ì—°ë„ ì¶”ì¶œ
            const targetYearMatch = data.targetTime.match(/(\d{4})/);
            const targetYear = targetYearMatch ? parseInt(targetYearMatch[1]) : new Date().getFullYear() + 1;
            const fixedTargetTime = `${targetYear}ë…„ 12ì›” 31ì¼`;

            // ê²°ê³¼ ì˜ì—­ ì´ˆê¸°í™” (ë¡œë”© ìƒíƒœ í‘œì‹œ)
            scenarioResult.innerHTML = "ë°ì´í„° ì „ì†¡ ì¤‘... AIê°€ ë¯¸ë˜ë¥¼ ì„¤ê³„í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.";
            roadmapResult.innerHTML = "ë¡œë“œë§µ ë¶„ì„ ì¤‘...";
            scenarioResult.classList.add('animate-pulse');
            roadmapResult.classList.add('animate-pulse');

            // 2. fetch í•¨ìˆ˜ë¥¼ ì´ìš©í•œ API í†µì‹  (POST) - (SERVER_URLì´ ë¹„ì–´ìˆìœ¼ë¯€ë¡œ ë°”ë¡œ catch ë¸”ë¡ìœ¼ë¡œ ì´ë™)
            fetch(SERVER_URL, { 
                method: 'POST',
                headers: { 'Content-Type': 'application/json', },
                body: JSON.stringify(data) 
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(resultData => {
                // API í†µì‹  ì„±ê³µ ì‹œ
                displayResultView(data, resultData);
            })
            .catch(error => {
                console.error('API í†µì‹  ì˜¤ë¥˜:', error);
                
                // 3. í†µì‹  ì˜¤ë¥˜ ë°œìƒ ì‹œ ì²˜ë¦¬ (ê°€ìƒ ë°ì´í„° ìƒì„±) - ì„œë²„ URLì´ ë¹„ì–´ìˆìœ¼ë¯€ë¡œ ì´ ë¸”ë¡ì´ ì‹¤í–‰ë¨
                
                // AI ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± (HTML êµ¬ì¡°)
                const scenarioHtml = `
                    <div class="font-bold text-lg text-yellow-400 mb-3">âœ¨ ${fixedTargetTime} ë¯¸ë˜ ì„±ê³µ ìš”ì•½ (í˜„ì‹¤ì )</div>
                    <ul class="list-decimal ml-5 text-gray-300 space-y-1">
                        <li><strong>ëª©í‘œ ë‹¬ì„±:</strong> ${data.nickname}ë‹˜ì€ ${fixedTargetTime}ê¹Œì§€ ì„¤ì •í•œ ëª©í‘œ("${data.mainGoal}")ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì´í–‰í•˜ë©° ì „ë¬¸ì„±ì„ ì¸ì •ë°›ì•˜ìŠµë‹ˆë‹¤.</li>
                        <li><strong>í•µì‹¬ ìš”ì¸:</strong> ì „ëµì ì¸ ê°•ì ('${data.myStrength || 'ë¯¸ì…ë ¥ëœ ê°•ì '}') í™œìš©ê³¼ ì¥ì• ë¬¼('${data.obstacle || 'ì—†ìŒ'}') ì‚¬ì „ ì œê±° ë…¸ë ¥ì´ ì„±ê³¼ ë‹¬ì„±ì˜ í•µì‹¬ ìš”ì¸ì´ì—ˆìŠµë‹ˆë‹¤.</li>
                        <li><strong>í–¥í›„ ê³„íš:</strong> ëª©í‘œ ë‹¬ì„± í›„, ì—…ê³„ í‰ê·  ëŒ€ë¹„ 15% ì´ìƒ ë†’ì€ ë§Œì¡±ë„ì™€ í•¨ê»˜ ë‹¤ìŒ ë‹¨ê³„ì˜ ê²½ë ¥ ì„¤ê³„ë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.</li>
                    </ul>
                `;

                // ë‹¨ê³„ë³„ ìƒì„¸ ë¡œë“œë§µ ìƒì„± (ìˆ˜ì§ íƒ€ì„ë¼ì¸ ì‚¬ìš©)
                const roadmapContent = generatePhasedRoadmap(targetYear, data);
                
                const mockResult = {
                    scenario: scenarioHtml,
                    roadmap: roadmapContent
                };
                
                // í†µì‹  ì˜¤ë¥˜ ëª¨ë‹¬ í‘œì‹œ
                showModal('error', `API í†µì‹ ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. (ì„ì‹œ ë°ì´í„° í‘œì‹œ): ${error.message}`);
                
                // ì„ì‹œ ë°ì´í„° í‘œì‹œ
                displayResultView(data, mockResult);
            });
        }
        
        /**
         * í¼ ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ê³  í¼ ë·°ë¡œ ëŒì•„ê°€ëŠ” í•¨ìˆ˜
         */
        function resetForm() {
            document.getElementById('nickname').value = '';
            document.getElementById('mainGoal').value = '';
            document.getElementById('targetTime').value = '';
            document.getElementById('myStrength').value = '';
            document.getElementById('obstacle').value = '';

            resultView.classList.add('hidden');
            formView.classList.remove('hidden');
        }
        
    </script>
</body>
</html>

